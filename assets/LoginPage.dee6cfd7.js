var O=Object.defineProperty;var D=(e,t,a)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var w=(e,t,a)=>(D(e,typeof t!="symbol"?t+"":t,a),a);import{c as v,r as m,w as W,m as J,h as s,W as G,v as h,_ as y,y as S,z as C,am as K,A as X,d as u,E as f,B as T,F as Y,J as g,H as Z}from"./index.2f5dab60.js";import{c as ee,h as te,o as ne,Q as le,i as ae}from"./QBtn.6e1519c4.js";import{j as re,Q as oe}from"./QCheckbox.9f599f20.js";import{A as ie,u as se}from"./vue-utils.9f9e4a3c.js";import{i as z,u as ue}from"./i18n.5b0a1e75.js";import"./uid.d6a348ad.js";const ce={ratio:[String,Number]};function de(e,t){return v(()=>{const a=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const me=16/9;var ge=ee({name:"QImg",props:{...ce,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:me},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:a}){const c=m(e.initialRatio),d=de(e,c);let l=null,r=!1;const o=[m(null),m(q())],i=m(0),p=m(!1),_=m(!1),P=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),R=v(()=>({width:e.width,height:e.height})),F=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),E=v(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));W(()=>B(),I);function B(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function I(n){l!==null&&(clearTimeout(l),l=null),_.value=!1,n===null?(p.value=!1,o[i.value^1].value=q()):p.value=!0,o[i.value].value=n}function M({target:n}){r!==!0&&(l!==null&&(clearTimeout(l),l=null),c.value=n.naturalHeight===0?.5:n.naturalWidth/n.naturalHeight,k(n,1))}function k(n,$){r===!0||$===1e3||(n.complete===!0?U(n):l=setTimeout(()=>{l=null,k(n,$+1)},50))}function U(n){r!==!0&&(i.value=i.value^1,o[i.value].value=null,p.value=!1,_.value=!1,a("load",n.currentSrc||n.src))}function A(n){l!==null&&(clearTimeout(l),l=null),p.value=!1,_.value=!0,o[i.value].value=null,o[i.value^1].value=q(),a("error",n)}function N(n){const $=o[n].value,b={key:"img_"+n,class:F.value,style:E.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...$};return i.value===n?(b.class+=" q-img__image--waiting",Object.assign(b,{onLoad:M,onError:A})):b.class+=" q-img__image--loaded",s("div",{class:"q-img__container absolute-full",key:"img"+n},s("img",b))}function H(){return p.value!==!0?s("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},te(t[_.value===!0?"error":"default"])):s("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[s(ne,{color:e.spinnerColor,size:e.spinnerSize})])}return I(B()),J(()=>{r=!0,l!==null&&(clearTimeout(l),l=null)}),()=>{const n=[];return d.value!==null&&n.push(s("div",{key:"filler",style:d.value})),_.value!==!0&&(o[0].value!==null&&n.push(N(0)),o[1].value!==null&&n.push(N(1))),n.push(s(G,{name:"q-transition--fade"},H)),s("div",{class:P.value,style:R.value,role:"img","aria-label":e.alt},n)}}});class x{constructor(){w(this,"_value","")}changeValue(t){this._value=t}get value(){return this._value}get maxLength(){}get rules(){return[]}}class L extends x{get maxLength(){return 100}get rules(){return[t=>!!t||z.translate("error.login-name-required")]}}class Q extends x{get maxLength(){return 50}get rules(){return[t=>!!t||z.translate("error.password-required")]}}class j{constructor(){w(this,"_name",new L);w(this,"_secret",new Q)}get name(){return this._name}get secret(){return this._secret}}const fe=h({name:"TextInput",components:{},props:{model:{type:Object,required:!0},label:{type:String,required:!1},type:{type:String,default:"text"},icon:{type:String,required:!1}}});function pe(e,t,a,c,d,l){return S(),C(re,{"model-value":e.model.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.model.changeValue(r)),type:e.type,maxlength:e.model.maxLength,label:e.label,rules:e.model.rules},K({_:2},[e.icon?{name:"prepend",fn:X(()=>[u(le,{name:e.icon},null,8,["name"])]),key:"0"}:void 0]),1032,["model-value","type","maxlength","label","rules"])}var V=y(fe,[["render",pe]]);const _e=h({name:"CredentialNameInput",components:{TextInput:V},props:{model:{type:L,required:!0}}});function ve(e,t,a,c,d,l){const r=f("text-input");return S(),C(r,{label:e.$t("label.credential.username-and-password"),icon:"s_perm_identity",model:e.model},null,8,["label","model"])}var he=y(_e,[["render",ve]]);const ye=h({name:"SecretInput",components:{TextInput:V},props:{model:{type:Q,required:!0}}});function Se(e,t,a,c,d,l){const r=f("text-input");return S(),C(r,{label:e.$t("label.credential.secret"),icon:"s_lock_outline",type:"password",model:e.model},null,8,["label","model"])}var $e=y(ye,[["render",Se]]);const be=h({name:"UsernamePasswordCredentialView",components:{SecretInput:$e,CredentialNameInput:he},props:{model:{type:j,required:!0}}});function we(e,t,a,c,d,l){const r=f("credential-name-input"),o=f("secret-input");return S(),T(Y,null,[u(r,{model:e.model.name,class:"col-8"},null,8,["model"]),u(o,{model:e.model.secret,class:"col-8"},null,8,["model"])],64)}var qe=y(be,[["render",we]]);const Ce=h({name:"LoginPage",components:{UsernamePasswordCredentialView:qe,AppLogo:ie},setup(){const e=ue();return{model:se(new j),tc:e.t("label.login.tc",[e.t("app.title")])}}}),Be={class:"fullscreen row non-selectable"},Ie={class:"col gt-sm bg-blue-8"},ke={class:"col column items-stretch"},Ne=g("div",{class:"col-2"},null,-1),Te={class:"row items-center justify-center"},ze={class:"q-pl-sm"},xe={class:"col row content-start justify-center q-gutter-sm"};function Le(e,t,a,c,d,l){const r=f("app-logo"),o=f("username-password-credential-view");return S(),T("div",Be,[g("div",Ie,[u(ge,{src:""})]),g("div",ke,[Ne,g("div",Te,[u(r,{size:"40px"}),g("h4",ze,Z(e.$t("app.title")),1)]),g("div",xe,[u(o,{model:e.model},null,8,["model"]),u(oe,{size:"xs","model-value":!1,label:e.tc,class:"col-8 q-pa-none text-primary"},null,8,["label"]),u(ae,{color:"primary",label:"\u767B\u5F55",class:"col-8"})])])])}var Me=y(Ce,[["render",Le]]);export{Me as default};
